jQuery(function(_){if("undefined"==typeof storms_wc_shipping_calculator_in_product_vars)return!1;function d(o,e){(e=e||(_(".woocommerce-notices-wrapper:first")||_(".cart-empty").closest(".woocommerce")||_(".woocommerce-cart-form"))).prepend(o)}function g(){var o=_("#shipping-calculator-rates");0<o.length&&o.remove()}_("#calc_shipping_postcode").mask("00000-000").attr("type","tel"),_(document.body).on("click",'button[name="calc_shipping"]',function(o){o.preventDefault(),$wrapper=_(this).parents(".shipping-calculator-form");var e,c,a=_("#calc_shipping_country").val(),r=_("#calc_shipping_state").val(),t=_("#calc_shipping_city").val(),s=_("#calc_shipping_postcode").val(),n=(e=_('[name="add-to-cart"]'),0<(c=_('[name="variation_id"]')).length?0<c.val()&&c.val():0<e.length&&0<e.val()&&e.val());if(0!==n){var i,l,p=_(".quantity input.qty"),u=p.length?p.val():1,m={security:_("#storms-wc-scip-nonce").val(),country:a,state:r,city:t,postcode:s,product_id:n,quantity:u};i=$wrapper,(l=i).is(".processing")||l.parents(".processing").length||i.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),_.ajax({url:storms_wc_shipping_calculator_in_product_vars.ajax_url.toString()+"?action=storms_wc_scip",type:"POST",data:m,dataType:"json",success:function(o){_(".woocommerce-error, .woocommerce-message, .woocommerce-info").remove(),o&&(o.success?(g(),_(".shipping-calculator-form").after('<table id="shipping-calculator-rates" class="shop_table shop_table_responsive ">'+o.data.html+"</table>")):d('<div class="woocommerce-error" role="alert">'+o.data.error+"</div>"))},complete:function(){$wrapper.removeClass("processing").unblock()},error:function(o){g(),storms_wc_shipping_calculator_in_product_vars.debug_mode&&console.log(o.responseText)}})}else d('<div class="woocommerce-error" role="alert">Por favor, escolha uma opção antes de calcular o frete.</div>')})});
//# sourceMappingURL=maps/storms-wc-shipping-calculator-in-product.min.js.map
